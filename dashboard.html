<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Federal Reserved Accounts – Dashboard</title>
  <meta name="description" content="User dashboard — Federal Reserved Accounts" />
  <link rel="icon" href="images/fra-logo.png" />
  <!-- Tailwind for quick layout (already used in your existing dashboard) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* ---------- Embedded dashboard-specific styles ---------- */
    :root {
      --nav-bg: #0a2342;
      --accent: #0077B6;
      --muted: #6b7280;
      --success: #059669;
    }
    body { font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background: #f5f7fb; color: #111827; }
    .f-sidebar { background: var(--nav-bg); color: #fff; min-height: 100vh; padding-bottom: 6rem; }
    .logo-row { display:flex; gap:12px; align-items:center; }
    .logo-row img { width:44px; height:auto; }
    .nav-item { padding:12px 18px; cursor:pointer; display:flex; align-items:center; gap:10px; color:#cfe6ff; border-left:4px solid transparent; }
    .nav-item.active { background: rgba(255,255,255,0.03); border-left-color: var(--accent); color:#fff; font-weight:600; }
    .main { padding:28px; margin-left:0; }
    @media(min-width: 1024px) { .main { margin-left: 18rem; } .f-sidebar { position:fixed; width:18rem; } }

    /* Account card */
    .account-card { background:white; border-radius:12px; padding:20px; box-shadow:0 6px 20px rgba(9,30,66,0.06); border:1px solid #eef2ff; display:flex; flex-direction:column; gap:12px; }
    .ac-top { display:flex; justify-content:space-between; align-items:flex-start; gap:10px; }
    .ac-balance { font-weight:800; font-size:clamp(1.25rem, 2.6vw, 2rem); color:#003366; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .ac-number { color:var(--muted); font-size:0.9rem; }

    /* Modal */
    .modal { display:none; position:fixed; inset:0; background:rgba(2,6,23,0.55); align-items:center; justify-content:center; z-index:60; }
    .modal[aria-hidden="false"] { display:flex; }
    .modal-panel { background:#fff; border-radius:12px; padding:20px; width:94%; max-width:760px; box-shadow:0 20px 60px rgba(2,6,23,0.4); }

    .btn-primary { background:var(--accent); color:white; padding:10px 16px; border-radius:8px; font-weight:600; }
    .btn-ghost { background:transparent; border:1px solid #e6eef8; padding:8px 12px; border-radius:8px; }

    /* small helpers */
    .muted { color:var(--muted); }
    .success-note { background:#ecfdf5; border:1px solid #bbf7d0; padding:10px; border-radius:8px; color:#065f46; }
    .editor-area { width:100%; height:160px; border:1px solid #e6eef8; border-radius:8px; padding:10px; resize:vertical; }
    .small { font-size:0.9rem; }
  </style>

</head>
<body>

  <!-- Sidebar -->

  <aside class="f-sidebar p-6">
    <div class="logo-row mb-6">
      <img src="images/fra-logo.png" alt="logo" />
      <div>
        <div style="font-weight:800; font-size:1.05rem;">Federal Reserved Accounts</div>
        <div class="muted small">Dashboard Overview</div>
      </div>
    </div>

```
<nav>
  <div id="nav-dashboard" class="nav-item active" data-target="section-dashboard">Dashboard Overview</div>
  <div id="nav-assets" class="nav-item" data-target="section-assets">Secure Asset Management</div>

  <hr class="my-4 border-gray-700/30">

  <div id="openRequestDebit" class="nav-item">Request Secure Card</div>
  <div id="openRequestCheck" class="nav-item">Request Checkbook</div>
  <div id="openChangePassword" class="nav-item">Change Password Only</div>
  <div id="openContact" class="nav-item">Dedicated Support</div>
</nav>

<div style="position: absolute; bottom: 18px; left: 24px; right:24px;">
  <button id="logoutBtnSidebar" class="btn-ghost w-full">Logout Securely</button>
</div>
```

  </aside>

  <!-- Main -->

  <main class="main">
    <header class="flex items-center justify-between mb-6">
      <div>
        <div class="muted small">Welcome back</div>
        <h1 id="pf-welcome" style="font-size:1.6rem; margin-top:4px;">—</h1>
      </div>
      <div>
        <button id="addMoneyBtn" class="btn-primary">Initiate Deposit</button>
      </div>
    </header>

```
<!-- Dashboard sections -->
<section id="section-dashboard" class="mb-6">
  <h2 class="text-xl font-semibold mb-4">Accounts</h2>
  <div id="accountCards" class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
    <!-- Account cards injected here -->
    <div class="account-card">
      <div class="ac-top">
        <div>
          <div class="ac-type">Loading...</div>
          <div class="ac-number">—</div>
        </div>
        <div class="ac-balance">$0.00</div>
      </div>
    </div>
  </div>
</section>

<section id="section-assets" class="hidden">
  <h2 class="text-xl font-semibold mb-4">Secure Asset Management</h2>
  <p class="muted">Manage secure cards, checkbooks, and deposit instructions.</p>
  <div class="mt-4">
    <button class="btn-primary mr-2" onclick="openModal('safeguardEditorModal')">View Current Safeguard Methods</button>
    <button class="btn-ghost" onclick="openModal('safeguardEditorModal')">Edit Safeguard Methods (Admin)</button>
  </div>
</section>

<!-- Small helper area -->
<div id="noteArea" class="mt-6"></div>
```

  </main>

  <!-- Modals -->

  <!-- Request Secure Card -->

  <div id="requestDebitModal" class="modal" aria-hidden="true">
    <div class="modal-panel">
      <h3>Request Secure Card</h3>
      <p class="muted small">Enter delivery address for your secure card. This request will display a client-only confirmation and will NOT be sent to the backend.</p>
      <form id="debitCardForm">
        <label class="small">Delivery address</label>
        <textarea id="debitAddress" class="editor-area" required></textarea>
        <div class="mt-3 flex gap-3">
          <button type="submit" class="btn-primary">Submit</button>
          <button type="button" class="btn-ghost" data-close="requestDebitModal">Cancel</button>
        </div>
        <p id="debitResult" class="mt-3" style="display:none;"></p>
      </form>
    </div>
  </div>

  <!-- Request Checkbook -->

  <div id="requestCheckModal" class="modal" aria-hidden="true">
    <div class="modal-panel">
      <h3>Request Checkbook</h3>
      <p class="muted small">Enter delivery address for your checkbook. This request will display a client-only confirmation and will NOT be sent to the backend.</p>
      <form id="checkbookForm">
        <label class="small">Delivery address</label>
        <textarea id="checkbookAddress" class="editor-area" required></textarea>
        <div class="mt-3 flex gap-3">
          <button type="submit" class="btn-primary">Submit</button>
          <button type="button" class="btn-ghost" data-close="requestCheckModal">Cancel</button>
        </div>
        <p id="checkbookResult" class="mt-3" style="display:none;"></p>
      </form>
    </div>
  </div>

  <!-- Change Password (client-only non-functional) -->

  <div id="changePasswordModal" class="modal" aria-hidden="true">
    <div class="modal-panel">
      <h3>Change Password</h3>
      <p class="muted small">This change will show a confirmation but will not update your password on the backend (per your request).</p>
      <form id="passwordForm">
        <label class="small">New password</label>
        <input id="newPass" type="password" class="editor-area" placeholder="New password" required />
        <div class="mt-3 flex gap-3">
          <button class="btn-primary" type="submit">Apply</button>
          <button type="button" class="btn-ghost" data-close="changePasswordModal">Cancel</button>
        </div>
        <p id="passwordResult" class="mt-3" style="display:none;"></p>
      </form>
    </div>
  </div>

  <!-- Safeguard: NDA + Instruction display -->

  <div id="safeguardModal" class="modal" aria-hidden="true">
    <div class="modal-panel" style="max-width:900px;">
      <h3 id="safeguardTitle">Safeguard Protocol</h3>
      <div id="safeguardBody" class="mt-3"></div>
      <div class="mt-4 text-right">
        <button id="safeguardProceed" class="btn-primary" style="display:none;">Proceed</button>
        <button class="btn-ghost" data-close="safeguardModal">Close</button>
      </div>
    </div>
  </div>

  <!-- Safeguard Editor (Admin-only) -->

  <div id="safeguardEditorModal" class="modal" aria-hidden="true">
    <div class="modal-panel">
      <h3>Safeguard Instructions Editor</h3>
      <p class="muted small">Admin-only editor for deposit instructions. Select a method to edit (Wire / Crypto / Physical / Cash).</p>

```
  <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <label class="small">Method</label>
      <select id="editorMethod" class="editor-area" style="height:44px;">
        <option value="wire_transfer">Wire Transfer</option>
        <option value="crypto">Digital Asset (Crypto)</option>
        <option value="gold">Physical Asset (Gold)</option>
        <option value="cash">Certified Cash</option>
      </select>
    </div>
    <div>
      <label class="small">Title</label>
      <input id="editorTitle" class="editor-area" style="height:44px;" />
    </div>

    <div class="md:col-span-2">
      <label class="small">Details (HTML allowed)</label>
      <textarea id="editorDetails" class="editor-area"></textarea>
    </div>

    <div class="md:col-span-2 flex gap-3 justify-end pt-2">
      <button id="saveInstructionBtn" class="btn-primary">Save</button>
      <button type="button" class="btn-ghost" data-close="safeguardEditorModal">Close</button>
    </div>
  </div>

  <p id="editorStatus" class="mt-4" style="display:none;"></p>
</div>
```

  </div>

  <!-- Dedicated Support quick modal -->

  <div id="supportModal" class="modal" aria-hidden="true">
    <div class="modal-panel">
      <h3>Dedicated Support</h3>
      <p class="muted small">Call our dedicated support line:</p>
      <p class="text-2xl font-bold mt-3">+1 (380) 225-0409</p>
      <div class="mt-4 text-right"><button class="btn-ghost" data-close="supportModal">Close</button></div>
    </div>
  </div>

  <!-- Scripts -->

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.7/dist/umd/supabase.min.js"></script>

  <script defer src="dashboard.js"></script>

</body>
</html>
