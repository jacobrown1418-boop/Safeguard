<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Safeguard Bank ‚Äî Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
/* -----------------------
  Visual polish (safe patch)
  - Keeps all IDs/classes intact
  - Non-destructive: only styles existing elements
  ----------------------- */

:root{
  --nav-dark: #071733;
  --nav-deep: #071733;
  --accent: #0b66b2;
  --accent-2: #1e6ae8;
  --surface: #f4f7fb;
  --muted: #6b7280;
  --card-bg: rgba(255,255,255,0.9);
  --glass-border: rgba(13, 34, 66, 0.06);
  --shadow-lg: 0 18px 50px rgba(6,18,37,0.08);
}

/* Base reset (keeps your original typography but with a nicer base) */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--surface);font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;color:#071433; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale}

/* Keep body display as your original layout expects */
body{display:flex;height:100vh;overflow:hidden}

/* Sidebar polish (keeps .f-sidebar if present, otherwise styles current .gradient-header sidebar) */
.f-sidebar,
aside.gradient-header, /* support both versions */
aside[class*="gradient-header"]{
  width:18rem;
  min-width:18rem;
  background: linear-gradient(180deg,var(--nav-dark), #031127 92%);
  color:#fff;
  display:flex;
  flex-direction:column;
  padding:28px 20px;
  box-shadow: 8px 0 40px rgba(2,6,23,0.12);
  position:fixed;
  top:0;left:0;bottom:0;
  z-index:40;
}

/* if user used the alternative sidebar markup (id/class differences), these ensure it looks polished */
.gradient-header { background: linear-gradient(135deg,#071733 0%, #112e4a 60%); }
.gradient-header .logo { font-weight:700; font-size:1.05rem; }

/* Sidebar nav items (works with your .nav-item or button elements) */
.nav-item,
aside button,
nav button {
  display:block;
  width:100%;
  text-align:left;
  padding:10px 12px;
  border-radius:10px;
  color:rgba(255,255,255,0.95);
  border-left:3px solid transparent;
  margin-top:8px;
  background:transparent;
  transition:all .18s ease;
  font-weight:600;
}
.nav-item:hover,
aside button:hover,
nav button:hover { transform:translateX(6px); background: rgba(255,255,255,0.03) }
.nav-item.active { background: rgba(255,255,255,0.06); border-left-color:var(--accent); }

/* Main content area: ensure it fills right-side and keeps your existing paddings */
main,
.main {
  margin-left: 18rem; /* matches sidebar width above */
  flex:1;
  height:100vh;
  overflow:auto;
  padding:36px 56px;
  background: linear-gradient(180deg, rgba(246,249,253,0.6), var(--surface));
}

/* Hero / header polish (works with your hero section already using gradient classes) */
.gradient-header.hero,
section.relative.rounded-3xl,
section.gradient-header {
  border-radius:18px;
  padding:28px;
  position:relative;
  overflow:hidden;
  box-shadow: var(--shadow-lg);
}
.gradient-header::after {
  content:"";
  position:absolute; inset:0;
  background: radial-gradient(circle at 20% 20%, rgba(255,255,255,0.06), transparent 30%);
  pointer-events:none;
  mix-blend-mode:overlay;
}

/* Cards: uniform modern card style (applies to .glass-card, .summary-card, .account-card) */
.glass-card,
.summary-card,
.account-card,
.modal-panel {
  background: var(--card-bg);
  border-radius:14px;
  border:1px solid var(--glass-border);
  padding:18px;
  box-shadow: 0 10px 30px rgba(6,18,37,0.06);
  transition: transform .22s ease, box-shadow .22s ease;
}
.glass-card:hover,
.summary-card:hover,
.account-card:hover { transform: translateY(-6px); box-shadow: 0 26px 60px rgba(6,18,37,0.09) }

/* Account card layout improvements (keeps .account-card JS-created markup intact) */
.account-card {
  display:flex;
  flex-direction:column;
  gap:8px;
  min-height:120px;
  position:relative;
  padding:20px;
  overflow:hidden;
  border-radius:12px;
}

/* Color accents - added classes (JS snippet will attach these if you use it) */
.color-checking { border-left:6px solid #2563eb; }
.color-savings  { border-left:6px solid #16a34a; }
.color-benefits { border-left:6px solid #f59e0b; }
.color-crypto   { border-left:6px solid #8b5cf6; }

/* Headings and text */
h1,h2,h3 { margin:0; }
#pf-welcome { font-weight:700; }
.text-muted, .text-gray-500 { color:var(--muted) }

/* Buttons (primary / ghost) - keep classes .btn-primary/.btn-ghost used by your app */
.btn-primary {
  background: linear-gradient(90deg,var(--accent), var(--accent-2));
  color:#fff;
  padding:10px 16px;
  border-radius:10px;
  border:none;
  font-weight:700;
  box-shadow: 0 8px 20px rgba(11,102,178,0.14);
}
.btn-primary:hover { transform:translateY(-2px); }
.btn-ghost {
  background:#fff; border:1px solid rgba(13,34,66,0.06); padding:10px 14px; border-radius:10px; font-weight:600;
}

/* Modal improvements (keeps .modal + .modal-panel identifiers) */
.modal {
  display:none;
  position:fixed; inset:0; align-items:center; justify-content:center;
  background: rgba(6,18,37,0.35); z-index:60;
}
.modal[aria-hidden="false"] { display:flex; animation:modalIn .18s ease both; }
@keyframes modalIn { from {opacity:0; transform:translateY(6px)} to {opacity:1; transform:none} }
.modal-panel { max-width:720px; width:92%; border-radius:14px; padding:24px; }

/* Deposit modal specifics (your depositModal ID stays the same) */
#depositModal .modal-panel { max-width:640px; background:linear-gradient(180deg,#ffffff,#f8fbff); }

/* Responsive tweaks - preserves earlier mobile rules */
@media (max-width: 1024px) {
  .f-sidebar, aside[class*="gradient-header"] { position:relative; width:100%; height:auto; }
  .main, main { margin-left:0; padding:18px; height:auto; overflow:auto; }
  .account-card { min-height:100px; }
}

/* small helper utility for subtle fade-in where you might use it */
.fade-in { animation: fadeIn .45s ease both; }
@keyframes fadeIn { from {opacity:0; transform:translateY(6px)} to {opacity:1; transform:none} }
</style>

</head>

<body class="min-h-screen text-gray-900">

  <!-- Sidebar -->
  <aside class="fixed top-0 left-0 h-full w-64 gradient-header text-white flex flex-col shadow-2xl">
    <div class="px-6 py-6 border-b border-blue-900 flex items-center justify-between">
      <h1 class="text-xl font-semibold tracking-wide">Safeguard Bank</h1>
      <img src="https://img.icons8.com/ios-filled/50/ffffff/bank-building.png" class="w-6 h-6 opacity-80" />
    </div>
    <nav class="flex-1 px-4 py-6 space-y-3">
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="openDashboard">üè¶ Dashboard</button>
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="addMoneyBtn">üí∞ Add Money</button>
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="openRequestDebit">üí≥ Request Card</button>
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="openRequestCheck">üßæ Request Check</button>
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="openChangePassword">üîê Change Password</button>
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="openContact">üìû Support</button>
    </nav>
    <div class="px-6 py-5 border-t border-blue-900">
      <button id="logoutBtnSidebar" class="w-full text-center py-2 bg-red-600 hover:bg-red-700 rounded-md">Logout</button>
    </div>
  </aside>

  <!-- Main -->
  <main class="ml-64 p-10 space-y-8 relative overflow-hidden">

    <!-- Hero Header -->
    <section class="relative rounded-3xl overflow-hidden shadow-lg gradient-header text-white p-8">
      <img src="https://images.unsplash.com/photo-1591696205602-2f950c417cb9?auto=format&fit=crop&w=1500&q=80"
           class="absolute inset-0 w-full h-full object-cover opacity-15" alt="">
      <div class="relative z-10">
        <h2 class="text-3xl font-semibold mb-1">Welcome, <span id="pf-welcome">User</span></h2>
        <p class="text-sm text-blue-100">Last login: <span id="lastLogin"></span></p>
        <div class="mt-6">
          <div class="text-5xl font-bold text-white drop-shadow-lg" id="totalBalance">$0.00</div>
          <p class="text-blue-100 text-sm"><span id="accountCount">0</span> Active Accounts</p>
        </div>
      </div>
    </section>

    <!-- Stats Section -->
    <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="glass-card p-5 rounded-2xl shadow-md text-center">
        <img src="https://img.icons8.com/fluency/96/money-bag.png" class="mx-auto w-12 h-12 mb-2" />
        <p class="text-gray-600">Savings Rate</p>
        <h3 class="text-3xl font-bold text-green-600">3.25%</h3>
        <p class="text-xs text-gray-400 mt-1">Interest compounded daily</p>
      </div>
      <div class="glass-card p-5 rounded-2xl shadow-md text-center">
        <img src="https://img.icons8.com/fluency/96/headset.png" class="mx-auto w-12 h-12 mb-2" />
        <p class="text-gray-600">Support Status</p>
        <h3 class="text-xl font-semibold text-blue-600">Active</h3>
        <p class="text-xs text-gray-400 mt-1">24/7 Assistance</p>
      </div>
      <div class="glass-card p-5 rounded-2xl shadow-md text-center">
        <img src="https://img.icons8.com/fluency/96/investment-portfolio.png" class="mx-auto w-12 h-12 mb-2" />
        <p class="text-gray-600">Total Deposits</p>
        <h3 class="text-3xl font-bold text-emerald-600">$128,540</h3>
        <p class="text-xs text-gray-400 mt-1">Across all accounts</p>
      </div>
    </section>

    <!-- Accounts Section -->
    <section>
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-semibold">Your Accounts</h3>
        <button class="bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-4 py-2 rounded-md shadow-md transition-all" id="addMoneyBtn2">+ Add Funds</button>
      </div>
      <div id="accountCards" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Dynamically loaded -->
      </div>
    </section>

    <!-- Decorative Image -->
    <img src="https://www.svgrepo.com/show/349308/bank.svg" class="absolute bottom-8 right-8 w-32 opacity-10" />
  </main>

  <!-- Deposit Modal -->
  <div id="depositModal" class="modal" aria-hidden="true">
    <div class="modal-panel glass-card rounded-xl shadow-xl max-w-lg mx-auto mt-20 p-6">
      <h3 id="depositModalTitle" class="text-lg font-semibold mb-3"></h3>
      <div id="depositModalContent" class="text-gray-700"></div>
      <div class="flex justify-end mt-4">
        <button class="btn-ghost border border-gray-300 px-4 py-2 rounded-md" data-close>Close</button>
      </div>
    </div>
  </div>

  <!-- Supabase + Script -->
  <script src="https://unpkg.com/@supabase/supabase-js"></script>
  <script src="dashboard.js"></script>
</body>
</html>
