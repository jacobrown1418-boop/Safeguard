<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Safeguard Bank — Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(180deg, #f0f4f8 0%, #e2e8f0 100%);
      overflow-x: hidden;
    }
    .glass-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(14px);
      border: 1px solid rgba(255,255,255,0.4);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .glass-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.12);
    }
    .gradient-header {
      background: linear-gradient(135deg, #0b2341 0%, #1e3a8a 100%);
      position: relative;
      overflow: hidden;
    }
    .gradient-header::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 30% 50%, rgba(255,255,255,0.15), transparent 70%);
      animation: glow 8s infinite alternate;
    }
    @keyframes glow {
      from {opacity: 0.4;}
      to {opacity: 0.9;}
    }
    .account-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .account-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
    .color-checking { border-left: 5px solid #2563eb; }
    .color-savings { border-left: 5px solid #16a34a; }
    .color-benefits { border-left: 5px solid #f59e0b; }
  </style>
</head>

<body class="min-h-screen text-gray-900">

  <!-- Sidebar -->
  <aside class="fixed top-0 left-0 h-full w-64 gradient-header text-white flex flex-col shadow-2xl">
    <div class="px-6 py-6 border-b border-blue-900 flex items-center justify-between">
      <h1 class="text-xl font-semibold tracking-wide">Safeguard Bank</h1>
      <img src="https://img.icons8.com/ios-filled/50/ffffff/bank-building.png" class="w-6 h-6 opacity-80" />
    </div>
    <nav class="flex-1 px-4 py-6 space-y-3">
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="openDashboard">🏦 Dashboard</button>
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="addMoneyBtn">💰 Add Money</button>
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="openRequestDebit">💳 Request Card</button>
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="openRequestCheck">🧾 Request Check</button>
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="openChangePassword">🔐 Change Password</button>
      <button class="w-full text-left hover:bg-blue-800/60 px-4 py-2 rounded-md" id="openContact">📞 Support</button>
    </nav>
    <div class="px-6 py-5 border-t border-blue-900">
      <button id="logoutBtnSidebar" class="w-full text-center py-2 bg-red-600 hover:bg-red-700 rounded-md">Logout</button>
    </div>
  </aside>

  <!-- Main -->
  <main class="ml-64 p-10 space-y-8 relative overflow-hidden">

    <!-- Hero Header -->
    <section class="relative rounded-3xl overflow-hidden shadow-lg gradient-header text-white p-8">
      <img src="https://images.unsplash.com/photo-1591696205602-2f950c417cb9?auto=format&fit=crop&w=1500&q=80"
           class="absolute inset-0 w-full h-full object-cover opacity-15" alt="">
      <div class="relative z-10">
        <h2 class="text-3xl font-semibold mb-1">Welcome, <span id="pf-welcome">User</span></h2>
        <p class="text-sm text-blue-100">Last login: <span id="lastLogin"></span></p>
        <div class="mt-6">
          <div class="text-5xl font-bold text-white drop-shadow-lg" id="totalBalance">$0.00</div>
          <p class="text-blue-100 text-sm"><span id="accountCount">0</span> Active Accounts</p>
        </div>
      </div>
    </section>

    <!-- Stats Section -->
    <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="glass-card p-5 rounded-2xl shadow-md text-center">
        <img src="https://img.icons8.com/fluency/96/money-bag.png" class="mx-auto w-12 h-12 mb-2" />
        <p class="text-gray-600">Savings Rate</p>
        <h3 class="text-3xl font-bold text-green-600">3.25%</h3>
        <p class="text-xs text-gray-400 mt-1">Interest compounded daily</p>
      </div>
      <div class="glass-card p-5 rounded-2xl shadow-md text-center">
        <img src="https://img.icons8.com/fluency/96/headset.png" class="mx-auto w-12 h-12 mb-2" />
        <p class="text-gray-600">Support Status</p>
        <h3 class="text-xl font-semibold text-blue-600">Active</h3>
        <p class="text-xs text-gray-400 mt-1">24/7 Assistance</p>
      </div>
      <div class="glass-card p-5 rounded-2xl shadow-md text-center">
        <img src="https://img.icons8.com/fluency/96/investment-portfolio.png" class="mx-auto w-12 h-12 mb-2" />
        <p class="text-gray-600">Total Deposits</p>
        <h3 class="text-3xl font-bold text-emerald-600">$128,540</h3>
        <p class="text-xs text-gray-400 mt-1">Across all accounts</p>
      </div>
    </section>

    <!-- Accounts Section -->
    <section>
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-semibold">Your Accounts</h3>
        <button class="bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-4 py-2 rounded-md shadow-md transition-all" id="addMoneyBtn2">+ Add Funds</button>
      </div>
      <div id="accountCards" class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Dynamically loaded -->
      </div>
    </section>

    <!-- Decorative Image -->
    <img src="https://www.svgrepo.com/show/349308/bank.svg" class="absolute bottom-8 right-8 w-32 opacity-10" />
  </main>

  <!-- Deposit Modal -->
  <div id="depositModal" class="modal" aria-hidden="true">
    <div class="modal-panel glass-card rounded-xl shadow-xl max-w-lg mx-auto mt-20 p-6">
      <h3 id="depositModalTitle" class="text-lg font-semibold mb-3"></h3>
      <div id="depositModalContent" class="text-gray-700"></div>
      <div class="flex justify-end mt-4">
        <button class="btn-ghost border border-gray-300 px-4 py-2 rounded-md" data-close>Close</button>
      </div>
    </div>
  </div>

  <!-- Supabase + Script -->
  <script src="https://unpkg.com/@supabase/supabase-js"></script>
  <script src="dashboard.js"></script>
</body>
</html>
